<app-header></app-header>

<!-- Bot칩n toggle que solo aparece cuando el sidebar est치 oculto -->
<app-sidebar-toggle-button></app-sidebar-toggle-button>

<!-- Sidebar fijo -->
<aside class="sidebar">
  <app-accesos-rapidos-seccion></app-accesos-rapidos-seccion>
</aside>

<main class="main-content-container">
  <div class="email-container">
    <h2 class="titulo-pagina">{{ title }}</h2>
     <div class="hr-line"></div>


    <div class="form-grid">
    <div class="form-row">
      <label for="email-to">Enviar Correo a :</label>
      <input id="email-to" [(ngModel)]="email.to" placeholder="correo@javeriana.edu.co" />
    </div>

    <div class="form-row">
      <label for="email-message">A침adir mensaje (opcional):</label>
      <textarea id="email-message" [(ngModel)]="email.message" rows="7"></textarea>
    </div>

    <div class="form-row signature-row">
      <app-upload-signature 
        (signatureUploaded)="onSignatureUploaded($event)"
        (signatureRemoved)="onSignatureRemoved()"
        (signatureDataChanged)="onSignatureDataChanged($event)">
      </app-upload-signature>
    </div>

    <div class="form-row buttons">
      <button class="btn btn--primary" (click)="send()">Enviar</button>
    </div>
  </div>

    <h3 class="subtitulo">Previsualizaci칩n de mensaje</h3>
    <div class="preview-wrapper">
      <app-email-preview 
        [message]="email.message" 
        [signatureUrl]="signatureUrl"
        [signatureText]="signatureText">
      </app-email-preview>
    </div>
  </div>
</main>
