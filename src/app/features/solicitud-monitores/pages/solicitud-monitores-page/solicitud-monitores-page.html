<app-header></app-header>

<div class="page">
  <!-- Botón toggle que solo aparece cuando el sidebar está oculto -->
  <app-sidebar-toggle-button></app-sidebar-toggle-button>

  <aside class="sidebar">
    <!-- Accesos rápidos permanente -->
    <app-accesos-rapidos-seccion></app-accesos-rapidos-seccion>
  </aside>

  <main class="content">
    <h1 class="titulo-pagina">Ver y Editar Monitores</h1>
    <div class="hr-line"></div>

    <!-- Filtros de búsqueda (mismo estilo que Planificación) -->
    <div class="filters-container">
      <div class="filter-group">
        <label class="filter-label" for="sm-search">Buscar:</label>
        <input 
          id="sm-search"
          [(ngModel)]="searchQuery" 
          (ngModelChange)="onSearchChange()" 
          placeholder="Buscar por ID, nombre, apellido o correo..." 
          class="search-bar">
      </div>

      <div class="filter-group">
        <label class="filter-label" for="sm-materia">Filtrar por Materia:</label>
        <select id="sm-materia" [(ngModel)]="selectedMateria" (ngModelChange)="onMateriaChange()" class="filter-select">
          <option value="">Todas las materias</option>
          <option *ngFor="let mat of materias" [value]="mat">{{mat}}</option>
        </select>
      </div>
    </div>

    <!-- Botón de guardar cambios -->
    <div class="toolbar">
      <button class="btn btn--primary" (click)="guardarCambios()">Guardar cambios</button>
    </div>

    <!-- Tabla principal de monitores -->
    <app-monitores-table
      [monitores]="filteredMonitores"
      (update)="onMonitoresUpdate($event)">
    </app-monitores-table>
  </main>
</div>
